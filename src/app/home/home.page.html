<!-- <ion-header>
  <ion-toolbar>
    <ion-title>
      Ionic Blank
    </ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content style="--background: #f4f4f4">
  <div class="ion-padding">
    <div class="row">
      <div class="col-md-8 mb-3">
        <mat-card style="overflow: auto;height: 350px;">
          <div class="row">
            <div class="col-md">
              <h3>Priority Preemtive - PCB</h3>
            </div>
            <div class="col-md">
              <div class="text-right">
                <button
                  mat-raised-button
                  color="primary"
                  (click)="setProcess()"
                >
                  Add Process
                </button>
              </div>
            </div>
          </div>
          <br />
          <div style="overflow: auto;height: 250px;">
            <table class="table table-sm table-bordered table-hover">
              <thead class="bg-success text-white">
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Status</th>
                  <th scope="col">Arrival Time</th>
                  <th scope="col">Execue Time</th>
                  <th scope="col">Waitting Time</th>
                  <th scope="col">I/O Time</th>
                  <th scope="col">I/O WTime</th>
                  <th scope="col">priority</th>
                  <th scope="col" *ngIf="detailQueue == true">CPriority</th>
                  <td></td>
                </tr>
              </thead>
              <tbody *ngIf="pcb.getPCB().length > 0">
                <tr *ngFor="let x of pcb.getPCB(); let i = index">
                  <td>{{ x.id }}</td>
                  <td>{{ x.status }}</td>
                  <td>{{ x.arrivalT }}</td>
                  <td>{{ x.execueT }}</td>
                  <td>{{ x.waittingT }}</td>
                  <td>{{ x.ioT }}</td>
                  <td>{{ x.ioWattingT }}</td>
                  <td>{{ x.priority }}</td>
                  <td *ngIf="detailQueue == true">{{ x.countPriority }}</td>
                  <td>
                    <button
                      mat-raised-button
                      color="warn"
                      (click)="setTerminate(x, i)"
                    >
                      Terminate
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </mat-card>
      </div>
      <div class="col-md-4 mb-3">
        <mat-card style="overflow: auto;height: 350px;">
          <div class="row">
            <div class="col-md-8">
              <h3>Ready Queue</h3>
            </div>
            <div class="col-md">
              <div class="text-right">
                <button
                  mat-raised-button
                  color="accent"
                  (click)="detailQueue = !detailQueue"
                  *ngIf="detailQueue == false"
                >
                  <i class="fas fa-eye"></i>
                </button>
                <button
                  mat-raised-button
                  color="accent"
                  (click)="detailQueue = !detailQueue"
                  *ngIf="detailQueue == true"
                >
                  <i class="fas fa-eye-slash"></i>
                </button>
              </div>
            </div>
          </div>
          <br />
          <div style="overflow: auto;height: 250px;">
            <table class="table table-sm table-bordered table-hover">
              <thead class="bg-warning text-white text-center">
                <th scope="col">ID</th>
                <th scope="col" *ngIf="detailQueue == true">Priority</th>
                <th scope="col" *ngIf="detailQueue == true">Arrival</th>
              </thead>
              <tbody *ngIf="queue.length > 0">
                <tr *ngFor="let x of queue">
                  <td>
                    {{ x.id }}
                  </td>
                  <td *ngIf="detailQueue == true">
                    {{ x.priority }}
                  </td>
                  <td *ngIf="detailQueue == true">
                    {{ x.status }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </mat-card>
      </div>
    </div>
    <!-- end---top -->
    <div class="row">
      <div class="col-md mb-3">
        <mat-card style="overflow: auto;height: 350px;">
          <div class="row">
            <div class="col-md text-center">
              <h3>I/O Queue</h3>
            </div>
          </div>
          <br />
          <div style="overflow: auto;height: 250px;">
            Hello
          </div>
        </mat-card>
      </div>
      <div class="col-md mb-3">
        <mat-card style="overflow: auto;height: 350px;">
          <div class="row">
            <div class="col-md text-center">
              <h3>Terminate</h3>
            </div>
          </div>
          <br />
          <div style="overflow: auto;height: 250px;">
            Terminate
          </div>
        </mat-card>
      </div>
      <div class="col-md mb-3">
        <mat-card style="overflow: auto;height: 350px;">
          <div class="row">
            <div class="col-md text-center">
              <h3>Controller</h3>
            </div>
          </div>
          <br />
          <div style="overflow: auto;height: 250px;">
            Controller
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</ion-content>
